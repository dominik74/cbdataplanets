(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{5412:function(e,n,r){Promise.resolve().then(r.bind(r,1340))},1340:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return q}});var t,i=r(7437),l=r(2265);let s=(0,l.createContext)({planets:[],setPlanets:()=>{}});!function(e){async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://swapi.dev/api/planets";try{let n=await fetch(e);if(!n.ok)throw Error("".concat(n.status,": ").concat(n.statusText));let r=await n.json(),t=r.results.map((e,n)=>({id:n,name:e.name,rotationPeriod:e.rotation_period,orbitalPeriod:e.orbital_period,diameter:e.diameter,climate:e.climate,gravity:e.gravity,terrain:e.terrain,surfaceWater:e.surface_water,population:e.population,residents:[],residentsUrls:e.residents,films:e.films,created:new Date(e.created),edited:new Date(e.edited),url:e.url})),i=r.next,l=r.previous;return{planets:t,nextUrl:i,prevUrl:l}}catch(e){throw e}}async function r(e){try{let n=await fetch(e);if(!n.ok)throw Error("".concat(n.status,": ").concat(n.statusText));return await n.json()}catch(e){throw e}}e.fetchData=n,e.fetchData2=r}(t||(t={}));var o=r(8646),a=r(7041);function c(){let e=(0,o._)(["\n	width: 256px;\n	border-right: 1px solid lightgray;\n	padding: 16px;\n	background: rgb(234, 234, 234);\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\n	background-color: ",";\n	border: 1px solid ",";\n	// color: ",";\n// font-weight: ",";\n	cursor: pointer;\n	border-radius: 2px;\n	&:hover {\n		background-color: #0066cc2e;\n		// background-color: lightblue;\n		border: 1px solid #0066cc;\n		// color: #0066cc;\n	}\n"]);return d=function(){return e},e}let u=a.ZP.aside(c()),h=a.ZP.li(d(),e=>e.$isSelected?"#0066cc2e":"none",e=>e.$isSelected?"#0066cc":"transparent",e=>e.$isSelected?"#0066cc":"black",e=>e.$isSelected?"bold":"normal");function g(e){let{planets:n}=(0,l.useContext)(s);return(0,i.jsxs)(u,{children:[e.children,(0,i.jsx)("ul",{children:n.map((n,r)=>(0,i.jsx)(h,{$isSelected:r===e.selectedPlanetId,onClick:()=>{e.setSelectedPlanetId(r)},children:n.name},r))})]})}function x(){let e=(0,o._)(["\n	display: flex;\n	margin: 35px 35px;\n	height: 100%;\n	border: 1px solid lightgray;\n	border-radius: 8px;\n	overflow: hidden;\n\n	@media (min-width: 790px) {\n		width: 720px;\n		// width: 1450px;\n	}\n"]);return x=function(){return e},e}let f=a.ZP.div(x());function p(e){return(0,i.jsx)(f,{children:e.children})}function m(){let e=(0,o._)(["\n	width: 100%;\n	font-size: 32px;\n	border-bottom: 1px solid lightgray;\n	text-align: right;\n"]);return m=function(){return e},e}let b=a.ZP.h1(m());function j(){let e=(0,o._)(["\n	color: #0066cc;\n	&:hover {\n		text-decoration: underline;\n	}\n"]);return j=function(){return e},e}let v=a.ZP.a(j());function y(){let e=(0,o._)(["\n	background: rgb(234, 234, 234);\n	border-radius: 2px;\n	border: 1px solid lightgray;\n	margin: 2px 0;\n\n	",";\n"]);return y=function(){return e},e}function w(){let e=(0,o._)(["\n	display: flex;\n	align-items: center;\n	background: lightgray;\n	cursor: pointer;\n\n	> img {\n		height: 16px;\n		margin-right: 4px;\n	}\n\n	&:hover {\n		background: rgb(234, 234, 234);\n	}\n\n	",";\n"]);return w=function(){return e},e}function P(){let e=(0,o._)(["\n	padding: 0 2px;\n"]);return P=function(){return e},e}let k=a.ZP.div(y(),e=>e.$isSubCategory&&"background: rgb(190, 190, 190);"),S=a.ZP.div(w(),e=>e.$isSubCategory&&"\n		background: rgb(170, 170, 170);\n\n		&:hover {\n			background: rgb(190, 190, 190);\n		}\n	"),_=a.ZP.div(P());function C(e){let[n,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{n&&(console.log("fetching data..."),e.onExpand())},[n]),(0,i.jsxs)(k,{$isSubCategory:!!e.isSubCategory&&e.isSubCategory,children:[(0,i.jsxs)(S,{onClick:()=>r(!n),$isSubCategory:!!e.isSubCategory&&e.isSubCategory,children:[(0,i.jsx)("img",{src:n?"/arrow-down.svg":"/arrow-right.svg",alt:"arrow"}),e.name]}),n&&(0,i.jsx)(i.Fragment,{children:e.children?(0,i.jsx)(_,{children:e.children}):(0,i.jsx)("p",{children:"Loading..."})})]})}function Z(){let e=(0,o._)(["\n	display: flex;\n	flex-direction: column;\n	flex-grow: 1;\n	padding: 16px;\n	overflow-y: auto;\n"]);return Z=function(){return e},e}function E(){let e=(0,o._)(["\n	margin-top: 24px;\n"]);return E=function(){return e},e}function $(){let e=(0,o._)(["\n	text-align: center;\n	margin-top: auto;\n	color: gray;\n	font-size: small;\n"]);return $=function(){return e},e}let D=a.ZP.div(Z()),I=a.ZP.div(E()),N=a.ZP.div($());function U(e){let{planets:n}=(0,l.useContext)(s),[r,o]=(0,l.useState)(void 0);async function a(e,n){if(void 0===r)return;let i=n.map(e=>t.fetchData2(e)),l=(await Promise.all(i)).map(e=>({name:e.name,height:e.height,mass:e.mass,hairColor:e.hair_color,eyeColor:e.eye_color,birthYear:e.birth_year,gender:e.gender,homeworld:e.homeworld,films:e.films,species:e.species,vehicles:e.vehicles,starships:e.starships,created:e.created,edited:e.edited,url:e.url}));o({...r,residents:l})}return(0,l.useEffect)(()=>{o(n.find(n=>n.id===e.selectedPlanetId))},[e.selectedPlanetId]),(0,i.jsx)(D,{children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{children:r.name}),(0,i.jsxs)(I,{children:[(0,i.jsxs)("p",{children:["rotation period: ",r.rotationPeriod]}),(0,i.jsxs)("p",{children:["orbital period: ",r.orbitalPeriod]}),(0,i.jsxs)("p",{children:["diameter: ",r.diameter]}),(0,i.jsxs)("p",{children:["climate: ",r.climate]}),(0,i.jsxs)("p",{children:["gravity: ",r.gravity]}),(0,i.jsxs)("p",{children:["terrain: ",r.terrain]}),(0,i.jsxs)("p",{children:["surface water: ",r.surfaceWater]}),(0,i.jsxs)("p",{children:["population: ",r.population]}),r.residentsUrls&&r.residentsUrls.length>0&&(0,i.jsx)(C,{name:"residents",onExpand:()=>a(r.residents,r.residentsUrls),children:r.residents&&r.residents.map((e,n)=>(0,i.jsxs)(C,{name:e.name,onExpand:()=>null,isSubCategory:!0,children:[(0,i.jsxs)("p",{children:["name: ",e.name]}),(0,i.jsxs)("p",{children:["height: ",e.height]}),(0,i.jsxs)("p",{children:["mass: ",e.mass]}),(0,i.jsxs)("p",{children:["hair color: ",e.hairColor]}),(0,i.jsxs)("p",{children:["eye color: ",e.eyeColor]}),(0,i.jsxs)("p",{children:["birth year: ",e.birthYear]}),(0,i.jsxs)("p",{children:["gender: ",e.gender]}),(0,i.jsx)("span",{children:"homeworld: "}),(0,i.jsx)(v,{href:e.homeworld,children:e.homeworld}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"url: "}),(0,i.jsx)(v,{href:e.url,children:e.url}),(0,i.jsx)("br",{})]},n))}),r.films&&r.films.length>0&&(0,i.jsx)(C,{name:"films",onExpand:()=>null,children:r.films.map((e,n)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(v,{href:e,children:e}),(0,i.jsx)("br",{})]},n))}),(0,i.jsx)("p",{children:(0,i.jsxs)("span",{children:["url: ",(0,i.jsx)(v,{href:r.url,children:r.url})]})})]}),(0,i.jsxs)(N,{children:["Vytvořeno: ",r.created.toDateString(),"\xa0\xa0 Upraveno: ",r.edited.toDateString()]})]}):(0,i.jsx)("p",{children:"Ž\xe1dn\xe1 planeta nevybr\xe1na."})})}function z(){let e=(0,o._)(["\n	display: flex;	\n	flex-direction: column;\n	height: 100vh;\n\n	@media (min-width: 790px) {\n		align-items: center;\n	}\n"]);return z=function(){return e},e}let F=a.ZP.div(z());function A(e){return(0,i.jsx)(F,{children:e.children})}function O(){let e=(0,o._)(["\n  background-color: ",";\n  text-align: center;\n  align-self: stretch;\n  visibility: ",";\n  height: 25px;\n"]);return O=function(){return e},e}let T=a.ZP.div(O(),e=>e.$error?"#fecaca":"rgb(234, 234, 234)",e=>e.$hide?"hidden":"visible");function W(e){return(0,i.jsx)(T,{$error:e.error,$hide:""===e.message,children:e.message})}function Y(){let e=(0,o._)(["\n	display: inline-flex;\n	align-items: center;\n	justify-content: center;\n	margin: 5px;\n	border: 1px solid lightgray;\n	width: 32px;\n	height: 28px;\n	background: white;\n	border-radius: 2px;\n	text-align: center;\n	vertical-align: middle;\n\n	&:hover:enabled {\n		background-color: #0066cc2e;\n		border: 1px solid #0066cc;\n	}\n\n	> img {\n		height: 16px;\n	}\n\n	&:disabled {\n		background: transparent;\n	}\n\n	&:disabled > img {\n		color: gray;\n		filter: invert(42%) saturate(1352%) brightness(119%) contrast(119%);\n	}\n"]);return Y=function(){return e},e}let L=a.ZP.button(Y());function R(){let e=(0,o._)(["\n	// width: 100%;\n	font-size: 18px;\n	font-weight: bold;\n	// border-bottom: 1px solid lightgray;\n	// text-align: right;\n"]);return R=function(){return e},e}let V=a.ZP.h1(R());function q(){let[e,n]=(0,l.useState)([]),[r,o]=(0,l.useState)(""),[a,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),[f,m]=(0,l.useState)(!1),[b,j]=(0,l.useState)(-1);async function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";j(-1),m(!1),x("Nač\xedt\xe1n\xed...");try{if(""===e){let{planets:e,nextUrl:r,prevUrl:i}=await t.fetchData();n(e),c(r),u(i),o(""),console.log("next url:"+r)}else{let{planets:r,nextUrl:i,prevUrl:l}=await t.fetchData(e);n(r),c(i),u(l),o(e),console.log("next url:"+i)}}catch(e){x("Chyba – "+e.message),m(!0);return}x(""),j(0)}return(0,l.useEffect)(()=>{v()},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Provider,{value:{planets:e,setPlanets:n},children:(0,i.jsxs)(A,{children:[(0,i.jsx)(W,{message:h,error:f}),(0,i.jsxs)(p,{children:[(0,i.jsxs)(g,{selectedPlanetId:b,setSelectedPlanetId:j,children:[(0,i.jsx)(V,{children:"Planety"}),(0,i.jsx)(L,{onClick:()=>v(r),children:(0,i.jsx)("img",{src:"/reload.svg",alt:"Reload"})}),(0,i.jsx)(L,{onClick:()=>v(d),disabled:null===d,children:(0,i.jsx)("img",{src:"/arrow-left.svg",alt:"Arrow"})}),(0,i.jsx)(L,{onClick:()=>v(a),disabled:null===a,children:(0,i.jsx)("img",{src:"/arrow-right.svg",alt:"Arrow"})}),(0,i.jsx)(L,{className:"float-right",onClick:()=>v("error"),children:"Err"})]}),(0,i.jsx)(U,{selectedPlanetId:b})]})]})})})}}},function(e){e.O(0,[688,971,23,744],function(){return e(e.s=5412)}),_N_E=e.O()}]);